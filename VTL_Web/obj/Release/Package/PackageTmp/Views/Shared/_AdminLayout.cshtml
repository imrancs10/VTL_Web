@using UPPRB_Web.Global
@using UPPRB_Web.Infrastructure.Authentication;
@{
    var entryType = GetEntryTypeDetail();
    var userPermission = GetUserPermission();
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Uttar Pradesh Police Recruitment & Promotion Board">
    <meta name="keyword" content="Uttar Pradesh Police Recruitment & Promotion Board">
    <link rel="shortcut icon" href="img/favicon.png">

    <title>Uttar Pradesh Police Recruitment & Promotion Board</title>
    @*@Styles.Render("~/Content/css")
        @Scripts.Render("~/bundles/modernizr")
        @Scripts.Render("~/bundles/jquery")
        @Scripts.Render("~/bundles/bootstrap")*@
    @RenderSection("scripts", required: false)
    <!-- Bootstrap core CSS -->
    <link href="~/Content/css/bootstrap.min.css" rel="stylesheet">
    <link href="~/Content/css/bootstrap-reset.css" rel="stylesheet">
    <script src="~/Scripts/library/js/jquery-1.11.0.min.js"></script>
    <script src="~/Scripts/library/js/bootstrap.js"></script>
    <script src="~/Scripts/ckeditor/ckeditor.js"></script>
    <!--external css-->
    <link href="~/Content/css/font-awesome.css" rel="stylesheet">

    <link href="~/Content/css/dash1.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/Content/css/owl.carousel.css" type="text/css">

    <!--right slidebar-->
    <link href="~/Content/css/slidebars.css" rel="stylesheet">

    <!-- Custom styles for this template -->

    <link href="~/Content/css/style.css" rel="stylesheet">
    <link href="~/Content/css/style-responsive.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    @*<script src="~/Scripts/essential/jquery-ui.js"></script>
        <link href="~/Scripts/essential/jquery-ui.css" rel="stylesheet" />*@
    <script src="~/Scripts/App/Global/App.js"></script>
    <script src="~/Scripts/App/Global/Utility.js"></script>


</head>

<body class="light-sidebar-nav">
    <input type="hidden" value="@UserData.UserId" id="hdnUserId" />
    @if ((User as CustomPrincipal) != null && UserData.UserId != 0)
    {
        <section id="container">
            <!--header start-->
            <header class="header white-bg">
                <div class="sidebar-toggle-box">
                    <i class="fa fa-bars"></i>
                </div>
                <!--logo start-->
                <a href="/Admin/Dashboard" class="logo" style="font-size:150%;"><img src="~/Content/Images/LOGO.bmp" style="width:60px; height:40px;"  alt="Uttar Pradesh Police Recruitment & Promotion Board"> UPPRPB</a>
                <!--logo end-->
                <div class="top-nav ">                  

                    <!--search & user info start-->
                    <div class="nav pull-right top-menu" style="margin-right:4%;">

                        <label class="dropdown">

                            <div class="dd-button">
                                
                                    <img alt="" src="img/avatar1_small.jpg">
                                    <span class="username">@UserData.Name</span>                                   
                                
                            </div>

                            <input type="checkbox" class="dd-input" id="test">

                            <ul class="dd-menu">
                                @*<li><a href="#"><i class="fa fa-suitcase"></i> Profile</a></li>
                                <li><a href="#"><i class="fa fa-cog"></i> Settings</a></li>
                                <li><a href="#"><i class="fa fa-bell-o"></i> Notification</a></li>*@
                                <li><a href="/Admin/Logout"><i class="fa fa-key"></i> Log Out</a></li>
                            </ul>

                        </label>

                        <!-- user login dropdown start-->
                       

                    </div>
                    <!--search & user info end-->
                </div>
            </header>
            <!--header end-->
            <!--sidebar start-->
            <aside>
                <div id="sidebar" class="nav-collapse ">
                    <!-- sidebar menu start-->
                    <ul class="sidebar-menu" id="nav-accordion">
                        <li>
                            <a class="active" href="/Admin/Dashboard">
                                <i class="fa fa-dashboard"></i>
                                <span>Dashboard</span>
                            </a>
                        </li>

                        @if (userPermission.Contains("UploadDataManagement"))
                        {
                            <li class="sub-menu">
                                <a href="javascript:;">
                                    <i class="fa fa-laptop"></i>
                                    <span>Upload Data Management</span>
                                </a>
                                <ul class="sub">
                                    <li><a href="/Admin/NoticeEntry">Upload Data Entry</a></li>
                                    @foreach (var entry in entryType)
                                    {
                                        if (userPermission.Contains(entry.EntryTypeName))
                                        {
                                            <li><a href="/Admin/NoticeEntryList?entryTypeId=@entry.EntryTypeId">@entry.EntryTypeDisplayName</a></li>
                                        }
                                    }
                                </ul>
                            </li>
                            <li class="sub-menu">
                                <a href="javascript:;">
                                    <i class="fa fa-laptop"></i>
                                    <span>Popular Recruitment</span>
                                </a>
                                <ul class="sub">
                                    <li>
                                        <a href="/Admin/PopularRecruitment">
                                            <i class="fa fa-dashboard"></i>
                                            <span>Popular Recruitment Entry</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/Admin/PopularRecruitmentList">
                                            <i class="fa fa-dashboard"></i>
                                            <span>Popular Recruitment List</span>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        }
                        @if (userPermission.Contains("PACDataManagement"))
                        {
                            <li class="sub-menu">
                                <a href="javascript:;">
                                    <i class="fa fa-laptop"></i>
                                    <span>CSPAC Data Management</span>
                                </a>
                                <ul class="sub">
                                    <li>
                                        <a href="/Admin/PACEntry">
                                            <i class="fa fa-dashboard"></i>
                                            <span>CSPAC Entry</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/Admin/PACList">
                                            <i class="fa fa-dashboard"></i>
                                            <span>CSPAC List</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/Admin/SearchPACList">
                                            <i class="fa fa-dashboard"></i>
                                            <span>CSPAC Report</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/Admin/SearchSolverList">
                                            <i class="fa fa-dashboard"></i>
                                            <span>CSPAC Solver Report</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/Admin/SearchBlacklistedList">
                                            <i class="fa fa-dashboard"></i>
                                            <span>CSPAC Blacklisted Report</span>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        }
                        @if (userPermission.Contains("MasterDataManagement"))
                        {
                            <li class="sub-menu">
                                <a href="javascript:;">
                                    <i class="fa fa-laptop"></i>
                                    <span>Master Data Management</span>
                                </a>
                                <ul class="sub">
                                    <li>
                                        <a href="/Admin/CreateUser">
                                            <i class="fa fa-dashboard"></i>
                                            <span>Create User</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/Admin/AddFAQ">
                                            <i class="fa fa-dashboard"></i>
                                            <span>FAQ Master</span>
                                        </a>
                                    </li>
                                    @*<li>
                        <a href="/Admin/EnquiryList">
                            <i class="fa fa-dashboard"></i>
                            <span>Enquiry Master</span>
                        </a>
                    </li>*@
                                    <li>
                                        <a href="/Admin/FeedbackList">
                                            <i class="fa fa-dashboard"></i>
                                            <span>Feedback Master</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/Admin/AddPSDetails">
                                            <i class="fa fa-dashboard"></i>
                                            <span>Police Station Master</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/Admin/AddMedalDetails">
                                            <i class="fa fa-dashboard"></i>
                                            <span>Add Medal Details</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/Admin/AddEventCalender">
                                            <i class="fa fa-dashboard"></i>
                                            <span>Add Calender Event</span>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        }
                        @if (userPermission.Contains("MasterPageManagement"))
                        {
                            <li class="sub-menu">
                                <a href="javascript:;">
                                    <i class="fa fa-laptop"></i>
                                    <span>Master Page Management</span>
                                </a>
                                <ul class="sub">
                                    @if (userPermission.Contains("PromotionEntry"))
                                    {
                                        <li>
                                            <a href="/Admin/PromotionEntry">
                                                <i class="fa fa-dashboard"></i>
                                                <span>Promotion Entry</span>
                                            </a>
                                        </li>
                                    }
                                    @if (userPermission.Contains("DirectRecruitementEntry"))
                                    {
                                        <li>
                                            <a href="/Admin/DirectRecruitementEntry">
                                                <i class="fa fa-dashboard"></i>
                                                <span>Direct Recruitement Entry</span>
                                            </a>
                                        </li>
                                    }
                                </ul>
                            </li>
                        }
                        <li>
                            <a href="/Admin/ChangePassword">
                                <i class="fa fa-dashboard"></i>
                                <span>Change Password</span>
                            </a>
                        </li>
                        <li>
                            <a href="/Admin/Logout">
                                <i class="fa fa-dashboard"></i>
                                <span>Logout</span>
                            </a>
                        </li>
                        <!--
    <li>
        <a href="#!">
            <i class="fa fa-user"></i>
            <span>Latest News</span>
        </a>
    </li>

    <li>
        <a href="#!">
            <i class="fa fa-user"></i>
            <span>Gallery</span>
        </a>
    </li>


    <li>
        <a href="#!">
            <i class="fa fa-user"></i>
            <span>Video</span>
        </a>
    </li>

    <li>
        <a href="#!">
            <i class="fa fa-user"></i>
            <span>Notification</span>
        </a>
    </li>-->


                    </ul>
                    <!-- sidebar menu end-->
                </div>
            </aside>
            <!--sidebar end-->
            <!--main content start-->
            <section id="main-content">
                @RenderBody()
            </section>
            <!--main content end-->
            <!-- Right Slidebar start -->
            <div class="sb-slidebar sb-right sb-style-overlay">
                <h5 class="side-title">Online Customers</h5>
                <ul class="quick-chat-list">
                    <li class="online">
                        <div class="media">
                            <a href="#" class="">
                                <img alt="" src="img/chat-avatar2.jpg" class="mr-3 rounded-circle">
                            </a>
                            <div class="media-body">
                                <strong>John Doe</strong>
                                <small>Dream Land, AU</small>
                            </div>
                        </div><!-- media -->
                    </li>
                    <li class="online">
                        <div class="media">
                            <a href="#" class="">
                                <img alt="" src="img/chat-avatar.jpg" class="mr-3 rounded-circle">
                            </a>
                            <div class="media-body">
                                <div class="media-status">
                                    <span class=" badge bg-important">3</span>
                                </div>
                                <strong>Jonathan Smith</strong>
                                <small>United States</small>
                            </div>
                        </div><!-- media -->
                    </li>

                    <li class="online">
                        <div class="media">
                            <a href="#" class="">
                                <img alt="" src="img/pro-ac-1.png" class="mr-3 rounded-circle">
                            </a>
                            <div class="media-body">
                                <div class="media-status">
                                    <span class=" badge badge-success">5</span>
                                </div>
                                <strong>Jane Doe</strong>
                                <small>ABC, USA</small>
                            </div>
                        </div><!-- media -->
                    </li>
                    <li class="online">
                        <div class="media">
                            <a href="#" class="">
                                <img alt="" src="img/avatar1.jpg" class="mr-3 rounded-circle">
                            </a>
                            <div class="media-body">
                                <strong>Anjelina Joli</strong>
                                <small>Fockland, UK</small>
                            </div>
                        </div><!-- media -->
                    </li>
                    <li class="online">
                        <div class="media">
                            <a href="#" class="">
                                <img alt="" src="img/mail-avatar.jpg" class="mr-3 rounded-circle">
                            </a>
                            <div class="media-body">
                                <div class="media-status">
                                    <span class=" badge bg-warning">7</span>
                                </div>
                                <strong>Mr Tasi</strong>
                                <small>Dream Land, USA</small>
                            </div>
                        </div><!-- media -->
                    </li>
                </ul>
                <h5 class="side-title"> pending Task</h5>
                <ul class="p-task tasks-bar">
                    <li>
                        <a href="#">
                            <div class="task-info">
                                <div class="desc">Dashboard v1.3</div>
                                <div class="percent">40%</div>
                            </div>
                            <div class="progress">
                                <div style="width: 40%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="40" role="progressbar" class="progress-bar progress-bar-striped bg-success">
                                    <span class="sr-only">40% Complete (success)</span>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <div class="task-info">
                                <div class="desc">Database Update</div>
                                <div class="percent">60%</div>
                            </div>
                            <div class="progress">
                                <div style="width: 60%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="60" role="progressbar" class="progress-bar progress-bar-striped bg-warning">
                                    <span class="sr-only">60% Complete (warning)</span>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <div class="task-info">
                                <div class="desc">Iphone Development</div>
                                <div class="percent">87%</div>
                            </div>
                            <div class="progress">
                                <div style="width: 87%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="20" role="progressbar" class="progress-bar progress-bar-striped bg-info">
                                    <span class="sr-only">87% Complete</span>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <div class="task-info">
                                <div class="desc">Mobile App</div>
                                <div class="percent">33%</div>
                            </div>
                            <div class="progress">
                                <div style="width: 33%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="80" role="progressbar" class="progress-bar progress-bar-striped bg-danger">
                                    <span class="sr-only">33% Complete (danger)</span>
                                </div>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <div class="task-info">
                                <div class="desc">Dashboard v1.3</div>
                                <div class="percent">45%</div>
                            </div>
                            <div class="progress">
                                <div style="width: 45%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="45" role="progressbar" class="progress-bar progress-bar-striped">
                                    <span class="sr-only">45% Complete</span>
                                </div>
                            </div>

                        </a>
                    </li>
                    <li class="external">
                        <a href="#">See All Tasks</a>
                    </li>
                </ul>
            </div>
            <!-- Right Slidebar end -->
            <!--footer start-->
            <footer class="site-footer">
                <div class="text-center">
                    <script>document.write(new Date().getFullYear())</script> &copy;Uttar Pradesh Police Recruitment & Promotion Board.
                    <a href="#" class="go-top">
                        <i class="fa fa-angle-up"></i>
                    </a>
                </div>
            </footer>
            <!--footer end-->
        </section>

    }
    else
    {
        <section id="main-content">
            @RenderBody()
        </section>
    }
    <!-- js placed at the end of the document so the pages load faster -->
    @*<script src="~/Content/js/jquery.js"></script>
        <script src="~/Content/js/bootstrap.bundle.min.js"></script>*@
    <script class="include" type="text/javascript" src="~/Content/js/jquery.dcjqaccordion.2.7.js"></script>
    <script src="~/Content/js/jquery.scrollTo.min.js"></script>
    <script src="~/Content/js/jquery.nicescroll.js" type="text/javascript"></script>
    <script src="~/Content/js/jquery.sparkline.js" type="text/javascript"></script>

    <script src="~/Content/js/owl.carousel.js"></script>
    <script src="~/Content/js/jquery.customSelect.min.js"></script>
    <script src="~/Content/js/respond.min.js"></script>

    <!--right slidebar-->
    <script src="~/Content/js/slidebars.min.js"></script>

    <!--common script for all pages-->
    <script src="~/Content/js/common-scripts.js"></script>

    <!--script for this page-->
    <script src="~/Content/js/sparkline-chart.js"></script>
    <script src="~/Content/js/easy-pie-chart.js"></script>
    <script src="~/Content/js/count.js"></script>

    <script>

        //owl carousel

        $(document).ready(function () {
            $("#owl-demo").owlCarousel({
                navigation: true,
                slideSpeed: 300,
                paginationSpeed: 400,
                singleItem: true,
                autoPlay: true

            });
        });

        //custom select box

        $(function () {
            $('select.styled').customSelect();
        });

        $(window).on("resize", function () {
            var owl = $("#owl-demo").data("owlCarousel");
            owl.reinit();
        });

    </script>
    <!-- js placed at the end of the document so the pages load faster -->
    @if (TempData["Alert_Title"] != null)
    {
        <div id="dialog" title="@TempData["Alert_Title"].ToString()">
            @if (TempData["Alert_Message"] != null)
            {
                <p>@TempData["Alert_Message"].ToString()</p>
            }
            else
            {
                <p>Success..!</p>
            }
        </div>
    }


    @*Alert*@
    <div id="alertModel" style="display:none;" title="">
        <p></p>
    </div>

    <script>
        $(function () {

            $("#dialog").dialog({
                resizable: false,
                height: "auto",
                width: 400,
                modal: true,
                buttons: {
                    "OK": function () {
                        $(this).dialog("close");
                    }
                }
            });
        });
    </script>
    @*Ajax Loader*@

    <div class="ajaxloader">
        <img src="~/img/ajax-loader.gif" />
    </div>
    <style>
        .ajaxloader {
            background: #808080a3;
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            display: none;
        }

            .ajaxloader img {
                width: 80px;
                height: 80px;
                position: absolute;
                top: 43%;
                left: 45%;
            }
    </style>
    <script type="text/javascript">
        $(document).ajaxError(function (xhr, props) {
            if (props.status === 401) {
                window.location.href = '@Url.Action("Login", "ApplicantLogin")';
            }
        });
    </script>
    @*<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>*@
    <script src="https://code.jquery.com/ui/1.11.1/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.1/themes/smoothness/jquery-ui.css" />
    <link href="//cdn.datatables.net/1.10.9/css/jquery.dataTables.min.css" rel="stylesheet" />
    <script src="//cdn.datatables.net/1.10.9/js/jquery.dataTables.js"></script>
    <div id="dialogConfirmation" style="display: none" align="center">
        Do you want to delete this record?
    </div>

    <script>

        const dd = document.querySelector('#dropdown-wrapper');
        const links = document.querySelectorAll('.dropdown-list a');
        const span = document.querySelector('span');

        dd.addEventListener('click', function () {
            this.classList.toggle('is-active');
        });

        links.forEach((element) => {
            element.addEventListener('click', function (evt) {
                span.innerHTML = evt.currentTarget.textContent;
            })
        })

    </script>

    <script type="text/javascript">
        $("#dialogConfirmation").dialog({
            modal: true,
            autoOpen: false,
            title: "Confirmation",
            width: 350,
            height: 160,
            buttons: [
                {
                    id: "Yes",
                    text: "Yes",
                    click: function () {
                        var url = $("[id*=lnkDelete]").data('url') + "/" + $('#hiddenID').val();
                        window.location = url;
                    }
                },
                {
                    id: "No",
                    text: "No",
                    click: function () {
                        $(this).dialog('close');
                    }
                }
            ]
        });
        function openDialogue(Id) {
            $('#dialogConfirmation').dialog('open');
            $('#hiddenID').val(Id);
            return false;
        }
        $(document).ready(function () {
            var userId = $('#hdnUserId').val();
            if (userId == "" || userId == undefined || userId == null || userId == 0) {
                $.ajax({
                    contentType: 'application/json; charset=utf-8',
                    dataType: 'json',
                    type: 'POST',
                    url: '/Master/LogoutUser',
                    success: function (data) {
                        var url = "/Login/Index";
                        window.location.href = url;
                        window.location.assign(url);
                        window.location = url;
                        window.location.replace = url;
                    },
                    failure: function (response) {
                        console.log(response);
                    },
                    error: function (response) {
                        console.log(response.responseText);
                    }
                });
            }
        });
    </script>
    <input type="hidden" id="hiddenID" value="" />
</body>
</html>


